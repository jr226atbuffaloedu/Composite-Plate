<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>composite_plate &mdash; Composite Plate 0.1.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Composite Plate 0.1.1 documentation" href="../index.html" />
    <link rel="up" title="Module code" href="index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for composite_plate</h1><div class="highlight"><pre>
<span class="c">########################################################################</span>
<span class="c">#   John Robinson                                                      #</span>
<span class="c">#   2015-10-14                                                         #</span>
<span class="c">#                                                                      #</span>
<span class="c">#   Objects needed for composite plate theory.                         #</span>
<span class="c">########################################################################</span>

<span class="c">########################################################################</span>
<span class="c">#   Module Level Imports</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">string</span>
<span class="kn">import</span> <span class="nn">unittest</span>

<div class="viewcode-block" id="PlyFromFiber"><a class="viewcode-back" href="../index.html#composite_plate.PlyFromFiber">[docs]</a><span class="k">class</span> <span class="nc">PlyFromFiber</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Estimate ply properties from Fiber and Matrix properties</span>
<span class="sd">    </span>
<span class="sd">    Will provide estimates of various elastic and thermal ply properties</span>
<span class="sd">    based on the Fiber and matrix properties</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
<div class="viewcode-block" id="PlyFromFiber.__init__"><a class="viewcode-back" href="../index.html#composite_plate.PlyFromFiber.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Initialize the PlyFromFiber object, all member variables to </span>
<span class="sd">        NaN</span>
<span class="sd">        </span>
<span class="sd">        This initializes all possible member variables to NaN, since </span>
<span class="sd">        different estimated properties require different variables to be</span>
<span class="sd">        defined.  When using, define the required fiber and matrix values </span>
<span class="sd">        for your property of interest, and then calculate the property.</span>
<span class="sd">        </span>
<span class="sd">        Member Variables:</span>
<span class="sd">            E_f:    Elastic modulus of the fiber</span>
<span class="sd">            v_f:    Volume fraction of the ply that is fiber</span>
<span class="sd">            nu_f:   Poissons ratio of the fiber</span>
<span class="sd">            G_f:    Shear modulus of the fiber</span>
<span class="sd">            </span>
<span class="sd">            E_m:    Elastic modulus of the matrix</span>
<span class="sd">            v_m:    Volume fraction of the ply that is matrix</span>
<span class="sd">            nu_m:   Poissons ratio of the matrix</span>
<span class="sd">            G_m:    Shear modulus of the matrix</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c"># Fiber Properties</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">E_f</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;nan&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">v_f</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;nan&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nu_f</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;nan&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">G_f</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;nan&#39;</span><span class="p">)</span>
        
        <span class="c"># Matrix Properties</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">E_m</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;nan&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">v_m</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;nan&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nu_m</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;nan&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">G_m</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">&#39;nan&#39;</span><span class="p">)</span>
        </div>
<div class="viewcode-block" id="PlyFromFiber.elastic_props"><a class="viewcode-back" href="../index.html#composite_plate.PlyFromFiber.elastic_props">[docs]</a>    <span class="k">def</span> <span class="nf">elastic_props</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Calculates the elastic properties of the ply from the fiber </span>
<span class="sd">            and matrix properties.</span>
<span class="sd">            </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">E_f</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">v_f</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">nu_f</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">G_f</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">E_m</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">v_m</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">nu_m</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">G_m</span><span class="p">])</span><span class="o">.</span><span class="n">any</span><span class="p">()):</span>
            <span class="k">raise</span> <span class="n">InputError</span><span class="p">(</span><span class="s">&#39;__init__()&#39;</span><span class="p">,</span><span class="s">&#39;A matrix of fiber elastic constant was not initialized!&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>        
            <span class="bp">self</span><span class="o">.</span><span class="n">E11</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">E_f</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">v_f</span> <span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">E_m</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">v_m</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">E22</span> <span class="o">=</span> <span class="n">E_f</span><span class="o">*</span><span class="n">E_m</span><span class="o">/</span><span class="p">(</span><span class="n">E_f</span><span class="o">*</span><span class="n">v_m</span> <span class="o">+</span><span class="n">E_m</span><span class="o">*</span><span class="n">v_f</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nu12</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nu_f</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">v_f</span> <span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">nu_m</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">v_m</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nu21</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">E22</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">E11</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">nu12</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">G12</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">G_f</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">G_m</span><span class="o">/</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">G_f</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">v_m</span> <span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">G_m</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">v_f</span><span class="p">)</span>
</div></div>
<div class="viewcode-block" id="Ply"><a class="viewcode-back" href="../index.html#composite_plate.Ply">[docs]</a><span class="k">class</span> <span class="nc">Ply</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>    
    <span class="sd">&quot;&quot;&quot; Defines a ply for a composite.  </span>
<span class="sd">    </span>
<span class="sd">    A ply is the material which goes into a composite.  Typically a ply </span>
<span class="sd">    will have a different modulus in the primary (E1) direction and the </span>
<span class="sd">    traverse (E2) direction.  The ply will have a shear modulus (G12) </span>
<span class="sd">    and poissons ratio (nu12), as well as a thickness (h)</span>
<span class="sd">    </span>
<span class="sd">    Example:</span>
<span class="sd">        To instantiate a ply, you must specify the plys parameter values::</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; E1      = 133.44;   # Modulus in fiber direction        [GPa]</span>
<span class="sd">            &gt;&gt;&gt; E2      = 8.78;     # Modulus in transverse direction   [GPa]</span>
<span class="sd">            &gt;&gt;&gt; G12     = 3.254;    # Shear Modulus                     [GPa]</span>
<span class="sd">            &gt;&gt;&gt; nu12    = 0.26;     # Poissons Ratio (principal)        [   ]</span>
<span class="sd">            &gt;&gt;&gt; h       = 6;        # Ply thickness                     [mm]</span>
<span class="sd">            &gt;&gt;&gt; ply = Ply(E1=E1,E2=E2,G12=G12,nu12=nu12,h=h)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span><span class="p">(</span><span class="s">&quot;E1:{0},E2:{1},G12:{2},nu12:{3},h:{4}&quot;</span>
            <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">E1</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">E2</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">G12</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">nu12</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="p">))</span>

<div class="viewcode-block" id="Ply.__init__"><a class="viewcode-back" href="../index.html#composite_plate.Ply.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">E1</span><span class="p">,</span><span class="n">E2</span><span class="p">,</span><span class="n">G12</span><span class="p">,</span><span class="n">nu12</span><span class="p">,</span><span class="n">h</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initializes the properties of the anisotropic ply.</span>
<span class="sd">        </span>
<span class="sd">        Anisotropic ply.  Need to define 4 of [E1,E2,nu12,nu21,G12] (4 </span>
<span class="sd">        of 5 independent variables).  </span>
<span class="sd">        Dependent constraint: nu21/E2 = nu12/E1 </span>
<span class="sd">     </span>
<span class="sd">        Units can be any set of self consistent units desired.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            E1 (float):     Modulus in the primary direction</span>
<span class="sd">            E2 (float):     Modulus perpendicular to the primary direction</span>
<span class="sd">            G12 (float):    Shear Modulus</span>
<span class="sd">            nu12 (float):   Poissons Ratio</span>
<span class="sd">            h (float):      Ply thickness</span>
<span class="sd">            </span>
<span class="sd">        Exceptions:</span>
<span class="sd">            InputError:     If any input value is not &gt; 0</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">((</span><span class="n">E1</span><span class="o">&gt;</span><span class="mf">0.0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">E2</span><span class="o">&gt;</span><span class="mf">0.0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">G12</span><span class="o">&gt;</span><span class="mf">0.0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">nu12</span><span class="o">&gt;</span><span class="mf">0.0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">h</span><span class="o">&gt;</span><span class="mf">0.0</span><span class="p">)):</span>  <span class="c"># Check to be sure all inputs &gt; 0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">E1</span>     <span class="o">=</span> <span class="n">E1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">E2</span>     <span class="o">=</span> <span class="n">E2</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">G12</span>    <span class="o">=</span> <span class="n">G12</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">nu12</span>   <span class="o">=</span> <span class="n">nu12</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">h</span>      <span class="o">=</span> <span class="n">h</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">InputError</span><span class="p">(</span><span class="s">&#39;__init__()&#39;</span><span class="p">,</span><span class="s">&#39;An input value is not greater than 0!&#39;</span><span class="p">)</span>
            </div>
<div class="viewcode-block" id="Ply.degree_of_isotropy"><a class="viewcode-back" href="../index.html#composite_plate.Ply.degree_of_isotropy">[docs]</a>    <span class="k">def</span> <span class="nf">degree_of_isotropy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the degree of Isotropy of the Ply (E1/E2)</span>
<span class="sd">        </span>
<span class="sd">        E1/E2 is a metric used to compare how isotropic plys are</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">E1</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">E2</span>

</div></div>
<div class="viewcode-block" id="Laminae"><a class="viewcode-back" href="../index.html#composite_plate.Laminae">[docs]</a><span class="k">class</span> <span class="nc">Laminae</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Composite Laminae defined for each layer in a composite.</span>
<span class="sd">    </span>
<span class="sd">    A laminae is an individual layer in a composite laminate.  It </span>
<span class="sd">    consists of a ply rotated some angle in the composite.  The angle is</span>
<span class="sd">    defined as the angle between the plys primary (1) axis and the </span>
<span class="sd">    composites x axis.</span>
<span class="sd">    </span>
<span class="sd">    Example:</span>
<span class="sd">        To instantiate a laminae, you must start with a ply, and then use</span>
<span class="sd">        the ply instance and a specified angle to get a single laminae.::</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; E1      = 133.44;   # Modulus in fiber direction        [GPa]</span>
<span class="sd">            &gt;&gt;&gt; E2      = 8.78;     # Modulus in transverse direction   [GPa]</span>
<span class="sd">            &gt;&gt;&gt; G12     = 3.254;    # Shear Modulus                     [GPa]</span>
<span class="sd">            &gt;&gt;&gt; nu12    = 0.26;     # Poissons Ratio (principal)        [   ]</span>
<span class="sd">            &gt;&gt;&gt; h       = 6;        # Ply thickness                     [mm]</span>
<span class="sd">            &gt;&gt;&gt; ply = Ply(E1=E1,E2=E2,G12=G12,nu12=nu12,h=h)</span>
<span class="sd">            &gt;&gt;&gt; theta_deg = 45;     # Orientation (+ from X)            [deg]</span>
<span class="sd">            &gt;&gt;&gt; theta_rad = theta_deg*np.pi/180.0;    #                 [rad]</span>
<span class="sd">            &gt;&gt;&gt; laminae1 = Laminae(ply, theta_rad);</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="s">&quot;Ply: {0}, Angle {1} [deg]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ply</span><span class="p">,(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta_rad</span><span class="o">*</span><span class="mf">180.0</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)))</span>
    
<div class="viewcode-block" id="Laminae.__init__"><a class="viewcode-back" href="../index.html#composite_plate.Laminae.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ply</span><span class="p">,</span><span class="n">theta_rad</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Initialize the composite Laminae</span>
<span class="sd">        </span>
<span class="sd">        Defines an individual laminae based on the ply and orientation </span>
<span class="sd">        of the laminae x-axis to the ply 1 axis (theta_rad)</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            ply (composite_plate.Ply):        A ply object</span>
<span class="sd">            theta_rad (float):  The orientation of the plys primary (1) axis to the composites x axis [radians]        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ply</span> <span class="o">=</span> <span class="n">ply</span><span class="p">;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theta_rad</span> <span class="o">=</span> <span class="n">theta_rad</span><span class="p">;</span>

        <span class="c">################################################################</span>
        <span class="c">#   Compliance, Rotation and Reuters Matrices</span>

        <span class="c">#   Compliance Matrix</span>
        <span class="n">S</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matrix</span><span class="p">([[</span><span class="mf">1.0</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">ply</span><span class="o">.</span><span class="n">E1</span><span class="p">,</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">ply</span><span class="o">.</span><span class="n">nu12</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">ply</span><span class="o">.</span><span class="n">E1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
            <span class="p">[</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">ply</span><span class="o">.</span><span class="n">nu12</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">ply</span><span class="o">.</span><span class="n">E1</span><span class="p">,</span> <span class="mf">1.0</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">ply</span><span class="o">.</span><span class="n">E2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">ply</span><span class="o">.</span><span class="n">G12</span><span class="p">]]);</span>
            
        <span class="c">#   Rotation Matrix</span>
        <span class="n">c_theta</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta_rad</span><span class="p">);</span>
        <span class="n">s_theta</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theta_rad</span><span class="p">);</span>
        <span class="n">c2_theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">c_theta</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
        <span class="n">s2_theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">s_theta</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
        <span class="n">s_c_theta</span> <span class="o">=</span> <span class="n">s_theta</span><span class="o">*</span><span class="n">c_theta</span><span class="p">;</span>
        <span class="n">c2minuss2_theta</span> <span class="o">=</span> <span class="n">c2_theta</span> <span class="o">-</span><span class="n">s2_theta</span><span class="p">;</span>

        <span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matrix</span><span class="p">([[</span><span class="n">c2_theta</span><span class="p">,</span> <span class="n">s2_theta</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">s_c_theta</span><span class="p">],</span>
            <span class="p">[</span><span class="n">s2_theta</span><span class="p">,</span> <span class="n">c2_theta</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">s_c_theta</span><span class="p">],</span>
            <span class="p">[</span><span class="o">-</span><span class="n">s_c_theta</span><span class="p">,</span> <span class="n">s_c_theta</span><span class="p">,</span> <span class="n">c2_theta</span><span class="o">-</span><span class="n">s2_theta</span><span class="p">]]);</span>
            
        <span class="c">#   Reuters Matrix (Comes from classical definition of shear </span>
        <span class="c">#       strain)    </span>
        <span class="n">R</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]);</span>
        
        <span class="c">################################################################</span>
        <span class="c">#   Source: &quot;Laminated Composite Plates&quot; by David Roylance (MIT)</span>
        <span class="c">#       Feb. 10, 2000    </span>
        
        <span class="c">#   Transformed Compliance Matrix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">S_bar</span> <span class="o">=</span> <span class="n">R</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">*</span><span class="n">S</span><span class="o">*</span><span class="n">A</span><span class="p">;</span>

</div></div>
<div class="viewcode-block" id="Laminate"><a class="viewcode-back" href="../index.html#composite_plate.Laminate">[docs]</a><span class="k">class</span> <span class="nc">Laminate</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">r&quot;&quot;&quot; A class defining a composite Laminate.  Input is as the composites </span>
<span class="sd">    laminae, the laminae thickness and stacking order.</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        laminae_list (list of composite_plate.Laminae): A list of laminae which compose the laminate, in order from bottom to top</span>
<span class="sd">    </span>
<span class="sd">    Attributes:</span>
<span class="sd">        A,B,D (numpy.matrix): Compliance matrices will become class </span>
<span class="sd">            variables after __init__.</span>
<span class="sd">            </span>
<span class="sd">        laminae_midplane_z (list[float]):   A list of heights from the </span>
<span class="sd">            midplane of the laminate to the midplane of each laminae.</span>
<span class="sd">            </span>
<span class="sd">        Epsilon (numpy.matrix): If defined contains a vector [3x1] of the </span>
<span class="sd">            midplane laminate strains.</span>
<span class="sd">            </span>
<span class="sd">        Kappa (numpy.matrix): If defined contains a vector [3x1] of the </span>
<span class="sd">            laminate curvatures.</span>
<span class="sd">        </span>
<span class="sd">    Example:</span>
<span class="sd">        To instantiate a laminate, you must start with one or more laminae,</span>
<span class="sd">        and then use the laminae instance(s) in a list to create the </span>
<span class="sd">        laminate.::</span>
<span class="sd">            </span>
<span class="sd">            &gt;&gt;&gt; E1      = 133.44;   # Modulus in fiber direction        [GPa]</span>
<span class="sd">            &gt;&gt;&gt; E2      = 8.78;     # Modulus in transverse direction   [GPa]</span>
<span class="sd">            &gt;&gt;&gt; G12     = 3.254;    # Shear Modulus                     [GPa]</span>
<span class="sd">            &gt;&gt;&gt; nu12    = 0.26;     # Poissons Ratio (principal)        [   ]</span>
<span class="sd">            &gt;&gt;&gt; h       = 6;        # Ply thickness                     [mm]</span>
<span class="sd">            &gt;&gt;&gt; ply = Ply(E1=E1,E2=E2,G12=G12,nu12=nu12,h=h)</span>
<span class="sd">            &gt;&gt;&gt; theta_deg = 45;     # Orientation (+ from X)            [deg]</span>
<span class="sd">            &gt;&gt;&gt; theta_rad = theta_deg*np.pi/180.0;    #                 [rad]</span>
<span class="sd">            &gt;&gt;&gt; laminae1 = Laminae(ply, theta_rad);            </span>
<span class="sd">            &gt;&gt;&gt; laminae2 = Laminae(ply,-theta_rad);</span>
<span class="sd">            &gt;&gt;&gt; laminate = Laminate([laminae1, laminae2])</span>
<span class="sd">    </span>
<span class="sd">    Stress Strain Relationships</span>
<span class="sd">    ---------------------------</span>
<span class="sd">    </span>
<span class="sd">    .. math::</span>
<span class="sd">        [N](3x1) &amp;= [A](3x3)*[\epsilon](3x1) +[B](3x3)*[\kappa](3x1) \\</span>
<span class="sd">        [M](3x1) &amp;= [B](3x3)*[\epsilon](3x1) +[D](3x3)*[\kappa](3x1)</span>
<span class="sd">    </span>
<span class="sd">    Normal Force/ unit lenght [F/l] in x,y and xy directions:</span>
<span class="sd">    </span>
<span class="sd">    .. math:: </span>
<span class="sd">        [N] &amp;= [N_{xx} N_{yy} N_{xy}]^T \\</span>
<span class="sd">        [M] &amp;= [M_{xx} M_{yy} M_{xy}]^T </span>
<span class="sd">        </span>
<span class="sd">    -&gt; Moment / unit length [F*l/l]</span>
<span class="sd">    </span>
<span class="sd">    .. math::</span>
<span class="sd">        [\epsilon] &amp;= [\epsilon^0_{xx} \epsilon^0_{yy} \gamma^0_{xy}]^T \\</span>
<span class="sd">        [\kappa] &amp;= [\kappa_{xx} \kappa_{yy} \kappa_{xy}]^T</span>
<span class="sd">    </span>
<span class="sd">    Midplane strains indicated by :math:`\epsilon^0`</span>
<span class="sd">    </span>
<span class="sd">    .. math::</span>
<span class="sd">    </span>
<span class="sd">        [A]_{mn} = \sum_{j=1}^N(\bar{Q}_{mn})_j(h_j -h_{j-1})\\</span>
<span class="sd">        [B]_{mn} = \frac{1}{2}\sum_{j=1}^N(\bar{Q}_{mn})_j(h_j^2 -h_{j-1}^2)\\</span>
<span class="sd">        [D]_{mn} = \frac{1}{3}\sum_{j=1}^N(\bar{Q}_{mn})_j(h_j^3 -h_{j-1}^3)\\</span>
<span class="sd">        </span>
<span class="sd">    Laminae stiffness matrix :math:`\bar{Q}`</span>
<span class="sd">    </span>
<span class="sd">    .. math::</span>
<span class="sd">        [\epsilon] &amp;= [A_1]*[N] + [B_1]*[M] \\</span>
<span class="sd">        [\kappa] &amp;= [C_1]*[N] + [D_1]*[M] \\ </span>
<span class="sd">        \\</span>
<span class="sd">        [A_1] &amp;= [A^{-1}]+[A^{-1}][B][D^{*-1}][B][A^{-1}] \\</span>
<span class="sd">        [B_1] &amp;= -[A^{-1}][B][D^{*-1}] \\</span>
<span class="sd">        [C_1] &amp;= -[D^{*-1}][B][A^{-1}] = [B_1]^T \\</span>
<span class="sd">        [D^*] &amp;= [D] -[B][A^{-1}][B] \\</span>
<span class="sd">        [D_1] &amp;= [D^{*-1}] </span>
<span class="sd">    &quot;&quot;&quot;</span>
    
<div class="viewcode-block" id="Laminate.__init__"><a class="viewcode-back" href="../index.html#composite_plate.Laminate.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">laminae_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize class Laminate</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            self: This object instance.</span>
<span class="sd">            laminae_list: A list containing objects of type Laminae, </span>
<span class="sd">                defined in Laminae.py</span>
<span class="sd">                </span>
<span class="sd">        Example:</span>
<span class="sd">            ply1 = CompositePlate.Ply(...)</span>
<span class="sd">            laminae1 = CompositePlate.Laminae</span>
<span class="sd">            laminate = CompositePlate.Laminate([laminae1, laminae2, laminae1]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">laminae_list</span> <span class="o">=</span> <span class="n">laminae_list</span><span class="p">;</span>
        
        <span class="c"># Determine total thickness</span>
        <span class="n">h</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        <span class="n">h_sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="n">laminae</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">laminae_list</span><span class="p">:</span>
            <span class="n">h_i</span> <span class="o">=</span> <span class="n">laminae</span><span class="o">.</span><span class="n">ply</span><span class="o">.</span><span class="n">h</span><span class="p">;</span>
            <span class="n">h_sum</span> <span class="o">+=</span> <span class="n">h_i</span><span class="p">;</span>
            <span class="n">h</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">h_sum</span><span class="p">);</span>
        
        <span class="n">_laminae_z</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">-</span><span class="n">h_sum</span><span class="o">/</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">h</span><span class="p">]</span>   <span class="c"># Make heights relative to midplane</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">laminae_midplane_z</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="n">_laminae_z</span><span class="p">[</span><span class="n">ii</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">_laminae_z</span><span class="p">[</span><span class="n">ii</span><span class="p">])</span> <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">_laminae_z</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span>  <span class="c"># Get height to midplane of each laminae</span>
        
        <span class="c"># Calculate Composite matrix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]]);</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">B</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">A</span><span class="p">;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">D</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">A</span><span class="p">;</span>

        <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">laminae_list</span><span class="p">)):</span>
            <span class="n">laminae</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">laminae_list</span><span class="p">[</span><span class="n">ii</span><span class="p">];</span>
            <span class="n">D_laminae</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">laminae</span><span class="o">.</span><span class="n">S_bar</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">A</span> <span class="o">+</span><span class="n">D_laminae</span><span class="o">*</span><span class="p">(</span><span class="n">_laminae_z</span><span class="p">[</span><span class="n">ii</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span><span class="n">_laminae_z</span><span class="p">[</span><span class="n">ii</span><span class="p">]);</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">B</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">B</span> <span class="o">+</span><span class="mf">0.5</span><span class="o">*</span><span class="n">D_laminae</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">_laminae_z</span><span class="p">[</span><span class="n">ii</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">_laminae_z</span><span class="p">[</span><span class="n">ii</span><span class="p">],</span><span class="mi">2</span><span class="p">));</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">D</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">D</span> <span class="o">+</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">3.0</span><span class="o">*</span><span class="n">D_laminae</span><span class="o">*</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">_laminae_z</span><span class="p">[</span><span class="n">ii</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="mi">3</span><span class="p">)</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">power</span><span class="p">(</span><span class="n">_laminae_z</span><span class="p">[</span><span class="n">ii</span><span class="p">],</span><span class="mi">3</span><span class="p">));</span>
            
        <span class="c"># Calculate Inverse Stiffness matrices</span>
        <span class="n">_A_inv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">A</span><span class="p">)</span>
        <span class="n">_D_inv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="p">)</span>
        <span class="n">_Dstar</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">D</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="o">*</span><span class="n">_A_inv</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">D_1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">_Dstar</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">A_1</span> <span class="o">=</span> <span class="n">_A_inv</span> <span class="o">+</span><span class="n">_A_inv</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">D_1</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="o">*</span><span class="n">_A_inv</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">B_1</span> <span class="o">=</span> <span class="o">-</span><span class="n">_A_inv</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">D_1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">C_1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matrix</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">B_1</span><span class="p">)</span>
        
        <span class="n">Epsilon</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="n">Kappa</span> <span class="o">=</span> <span class="bp">None</span>
        
            </div>
<div class="viewcode-block" id="Laminate.applied_strain"><a class="viewcode-back" href="../index.html#composite_plate.Laminate.applied_strain">[docs]</a>    <span class="k">def</span> <span class="nf">applied_strain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Epsilon</span><span class="p">,</span> <span class="n">Kappa</span><span class="p">):</span>
        <span class="sd">r&quot;&quot;&quot;Method for applying midplane strains to the laminate instance and determine the resulting midplane stresses</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            Epsilon (numpy.matrix): A [3x1] vector of midplane strains.  </span>
<span class="sd">                :math:`[\epsilon]_1 = \epsilon_{xx}^0`, :math:`[\epsilon]_2 = \epsilon_{yy}^0`, :math:`[\epsilon]_3 = \gamma_{xy}^0`</span>
<span class="sd">            Kappa (numpy.matrix): A [3x1] vector of curvatures.</span>
<span class="sd">                :math:`[\kappa]_1 = \kappa_{xx}`, :math:`[\kappa]_2 = \kappa_{yy}`, :math:`[\kappa]_3 = \kappa_{xy}`</span>
<span class="sd">                </span>
<span class="sd">        Returns:</span>
<span class="sd">            numpy.matrix: A dictionary containing the Normal stresses (N) and Moments (M)</span>
<span class="sd">            </span>
<span class="sd">            N (numpy.matrix): A [3x1] vector containing the normal stresses</span>
<span class="sd">            </span>
<span class="sd">            M (numpy.matrix): A [3x1] vector containing the resulting moments</span>
<span class="sd">            </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">N</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">A</span><span class="o">*</span><span class="n">Epsilon</span> <span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="o">*</span><span class="n">Kappa</span><span class="p">;</span>
        <span class="n">M</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="o">*</span><span class="n">Epsilon</span> <span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">D</span><span class="o">*</span><span class="n">Kappa</span><span class="p">;</span>
        
        <span class="k">return</span> <span class="p">{</span><span class="s">&#39;N&#39;</span><span class="p">:</span> <span class="n">N</span><span class="p">,</span><span class="s">&#39;M&#39;</span><span class="p">:</span> <span class="n">M</span><span class="p">}</span>
            </div>
<div class="viewcode-block" id="Laminate.applied_stress"><a class="viewcode-back" href="../index.html#composite_plate.Laminate.applied_stress">[docs]</a>    <span class="k">def</span> <span class="nf">applied_stress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">N</span><span class="p">,</span><span class="n">M</span><span class="p">):</span>
        <span class="sd">r&quot;&quot;&quot;Method for applying forces normalized by the section width to the laminate at the midplane.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            N (numpy.matrix): A [3x1] vector of normal stresses normalized by the section width</span>
<span class="sd">                :math:`[N]_1=N_{xx}`, :math:`[N]_2=N_{yy}`, :math:`[N]_3=N_{xy}`</span>
<span class="sd">            M (numpy.matrix): A [3x1] vector of moments normalized by the section width</span>
<span class="sd">                :math:`[M]_1=M_{xx}`, :math:`[M]_2=M_{yy}`, :math:`[M]_3=M_{xy}`        </span>
<span class="sd">                </span>
<span class="sd">        Returns:</span>
<span class="sd">            numpy.matrix: A dictionary containing the normal strains (Epsilon) and curvatures (Kappa)</span>
<span class="sd">            </span>
<span class="sd">            Epsilon (numpy.matrix): A [3x1] vector of laminate midplane strains.  </span>
<span class="sd">            </span>
<span class="sd">            Kappa (numpy.matrix): A [3x1] vector of laminate curvatures.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Epsilon</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">A_1</span><span class="o">*</span><span class="n">N</span> <span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">B_1</span><span class="o">*</span><span class="n">M</span><span class="p">;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Kappa</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">C_1</span><span class="o">*</span><span class="n">N</span> <span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">D_1</span><span class="o">*</span><span class="n">M</span><span class="p">;</span>
        
        <span class="k">return</span> <span class="p">{</span><span class="s">&#39;Epsilon&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Epsilon</span><span class="p">,</span> <span class="s">&#39;Kappa&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">Kappa</span><span class="p">}</span>
        </div>
<div class="viewcode-block" id="Laminate.midplane_strain"><a class="viewcode-back" href="../index.html#composite_plate.Laminate.midplane_strain">[docs]</a>    <span class="k">def</span> <span class="nf">midplane_strain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">Epsilon</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">Kappa</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">r&quot;&quot;&quot;Method for determining the laminae midplane strains in </span>
<span class="sd">        response to laminate nidplane strains and curvatures.</span>
<span class="sd">            </span>
<span class="sd">        If no laminate strain (Epsilon) or curvature (Kappa) is specified,</span>
<span class="sd">        the method will attempt to use the laminate&#39;s current strain</span>
<span class="sd">        and curvaure.  If they haven&#39;t been set, the method will throw </span>
<span class="sd">        an :py:class:`InputError` exception.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            Epsilon (numpy.matrix): A [3x1] vector of laminate midplane </span>
<span class="sd">                strains.  If a value is specified, this will be assigned</span>
<span class="sd">                to the laminate as the current state of strain.  </span>
<span class="sd">                </span>
<span class="sd">            Kappa (numpy.matrix): A [3x1] vector of laminate curvatures.</span>
<span class="sd">                If a value is specified, this will be assigned to the </span>
<span class="sd">                laminate as the current state of curvature.</span>
<span class="sd">                </span>
<span class="sd">        Returns:</span>
<span class="sd">            numpy.matrix: A list of Epsilon values corresponding to the </span>
<span class="sd">                midplane strain in each laminae of the laminate.  </span>
<span class="sd">                </span>
<span class="sd">                Epsilon (numpy.matrix): A [3x1] vector of laminate midplane strains.  </span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="p">((</span><span class="n">Epsilon</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">Kappa</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">))</span> <span class="ow">and</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">Epsilon</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Kappa</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="n">InputError</span><span class="p">(</span><span class="s">&#39;midplane_strain()&#39;</span><span class="p">,</span><span class="s">&#39;Laminate midplane strains and curvatures must either be passed as parameters or defined for the laminate!&#39;</span><span class="p">)</span>
        
        <span class="c"># If Epsilon and Kappa specified, assign to laminate</span>
        <span class="k">if</span> <span class="p">((</span><span class="n">Epsilon</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">Kappa</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Epsilon</span> <span class="o">=</span> <span class="n">Epsilon</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">Kappa</span> <span class="o">=</span> <span class="n">Kappa</span>
            
        <span class="bp">self</span><span class="o">.</span><span class="n">laminae_midplane_strains</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="n">laminae</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">laminae_list</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">laminae_midplane_strains</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Epsilon</span> <span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">laminae_midplane_z</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">Kappa</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">laminae_midplane_strains</span><span class="p">;</span>
</div></div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">doctest</span>
    <span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">()</span>

<span class="c">########################################################################</span>
<span class="c">#   Module Exceptions        </span>
<span class="c">########################################################################</span>
<div class="viewcode-block" id="CompPlateError"><a class="viewcode-back" href="../index.html#composite_plate.CompPlateError">[docs]</a><span class="k">class</span> <span class="nc">CompPlateError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for exceptions in this module.&quot;&quot;&quot;</span>
    <span class="k">pass</span>
</div>
<div class="viewcode-block" id="InputError"><a class="viewcode-back" href="../index.html#composite_plate.InputError">[docs]</a><span class="k">class</span> <span class="nc">InputError</span><span class="p">(</span><span class="n">CompPlateError</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Exception raised for errors in the input.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        expr -- input expression in which the error occurred</span>
<span class="sd">        msg  -- explanation of the error</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expr</span> <span class="o">=</span> <span class="n">expr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, John Robinson.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
    </div>

    

    
  </body>
</html>